<!DOCTYPE html>
<html>
<head>
  <title>Zency Invoice Generator</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <h1>Zency Invoice Generator</h1>
    <input type="text" id="customerName" placeholder="Customer Name" />
    <input type="text" id="mobileNumber" placeholder="Mobile Number" />
    <input type="text" id="address" placeholder="Address" />

    <div id="itemsContainer">
      <div class="item-row">
        <input type="text" class="itemName" placeholder="Item Name" />
        <input type="number" class="itemQty" placeholder="Qty" />
        <input type="number" class="itemPrice" placeholder="Price" />
      </div>
    </div>

    <button onclick="addItem()">+ Add Item</button>
    <button onclick="generateInvoice()">Generate & Email Invoice</button>
  </div>

  <script>
    function addItem() {
      let container = document.getElementById("itemsContainer");
      let row = document.createElement("div");
      row.classList.add("item-row");
      row.innerHTML = `
        <input type="text" class="itemName" placeholder="Item Name" />
        <input type="number" class="itemQty" placeholder="Qty" />
        <input type="number" class="itemPrice" placeholder="Price" />
      `;
      container.appendChild(row);
    }

    function generateInvoice() {
      let customer = document.getElementById("customerName").value;
      let mobile = document.getElementById("mobileNumber").value;
      let address = document.getElementById("address").value;

      let items = [];
      document.querySelectorAll(".item-row").forEach(row => {
        let name = row.querySelector(".itemName").value;
        let qty = parseInt(row.querySelector(".itemQty").value);
        let price = parseFloat(row.querySelector(".itemPrice").value);
        if (name && qty && price) {
          items.push({ name, qty, price });
        }
      });

      if (!customer || !mobile || !address || items.length === 0) {
        alert("⚠️ Please fill all fields and add at least one item!");
        return;
      }

      localStorage.setItem("invoiceData", JSON.stringify({
        customer, mobile, address, items
      }));

      window.location.href = "report.html";
    }
  </script>
</body>
</html>
